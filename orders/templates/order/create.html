{% extends "main/base.html" %}
{% load static %}

{% block title %}Create Order{% endblock title %}

{% block content %}
<div class="forcreate">
    <div class="profile bg-white p-4 mb-4 mx-2">
        <h2 class='mb-4'>Create Order</h2>
        <form action="" method='post' class='order-label'>
            {% csrf_token %}
            
            {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {% for error in form.non_field_errors %}
                    {{ error }}
                {% endfor %}
            </div>
            {% endif %}
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="id_first_name" class='form-label'>First Name</label>
                    <input type="text" class='form-control form-styleprofile' id="id_first_name"
                    name='first_name' placeholder='Your first name' value='{{ form.first_name.value|default:"" }}'
                    required>
                    {% if form.first_name.errors %}
                    <div class="invalid-feedback">
                        {% for error in form.first_name.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="col-md-6 mb-3">
                    <label for="id_last_name" class='form-label'>Last Name</label>
                    <input type="text" class='form-control form-styleprofile' id="id_last_name"
                    name='last_name' placeholder='Your last name' value='{{ form.last_name.value|default:"" }}'
                    required>
                    {% if form.last_name.errors %}
                    <div class="invalid-feedback">
                        {% for error in form.last_name.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
            </div>
            
            <div class="col-md-12 mb-3">
                <label for="id_email" class='form-label'>Email Address</label>
                <input type="email" class='form-control form-styleprofile' id="id_email"
                name='email' placeholder='your.email@example.com' value='{{ form.email.value|default:"" }}'
                required>
                {% if form.email.errors %}
                <div class="invalid-feedback">
                    {% for error in form.email.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            
            <div class="col-md-12 mb-3">
                <label for="id_address" class='form-label'>Delivery Address</label>
                <input type="text" class='form-control form-styleprofile' id="id_address"
                name='address' placeholder='Your complete address' value='{{ form.address.value|default:"" }}'
                required>
                {% if form.address.errors %}
                <div class="invalid-feedback">
                    {% for error in form.address.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            
            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="id_postal_code" class='form-label'>Postal Code</label>
                    <input type="text" class='form-control form-styleprofile' id="id_postal_code"
                    name='postal_code' placeholder='123456' value='{{ form.postal_code.value|default:"" }}'
                    required>
                    {% if form.postal_code.errors %}
                    <div class="invalid-feedback">
                        {% for error in form.postal_code.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="col-md-8 mb-3">
                    <label for="id_city" class='form-label'>City</label>
                    <input type="text" class='form-control form-styleprofile' id="id_city"
                    name='city' placeholder='Your city' value='{{ form.city.value|default:"" }}'
                    required>
                    {% if form.city.errors %}
                    <div class="invalid-feedback">
                        {% for error in form.city.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
            </div>
            
            <div class="text-center">
                <input type="submit" value='Place Order' class='btn-place-order'>
            </div>
         </form>
    </div>
    
    <div class='checkout'>
        <h1>Order Summary</h1>
        <div class="order-items">
            {% for item in cart %}
            <li>
                <span>{{ item.quantity }} Ã— {{ item.product.name }}</span>
                <strong>${{ item.total_price }}</strong>
            </li>
            {% endfor %}
        </div>
        <div class="order-total">
            <p><strong>Total: ${{ cart.get_total_price }}</strong></p>
        </div>
    </div>
</div>
{% endblock content %}